<!DOCTYPE html>
<html>
<head>
	<title>Mayhem Widget Test</title>
	<link rel='stylesheet' href='../../../dijit/themes/claro/claro.css'>
</head>
<body class='claro'>
	<script>
	var dojoConfig = {
		async: true,
		baseUrl: '../../third-party',
		packages: [
			'dojo',
			'dijit',
			'dgrid',
			'xstyle',
			'put-selector',
			'dstore',
			{ name: 'mayhem', location: '../' },
			{ name: 'widget', location: '../widget' }
		]
	};

	</script>
	<script src='../../../dojo/dojo.js'></script>
	<script>

	require([
		'widget/Widget',
		'widget/pointer',
		'dojo/domReady!'
	], function(Widget, pointer) {
		var widget = new Widget({
			style: { background: 'green', width: '100px', height: '100px' }
		});
		document.body.innerHTML = 'See console for pointer events on this widget...';
		document.body.appendChild(widget.domNode);
		widget.startup();

		var eventsToWatch = [
			'pointerdown',
			'pointerup',
			'pointercancel',
			'pointermove',
			'pointerover',
			'pointerout',
			'pointerenter',
			'pointerleave',
			'click'
		];

		function createListener(type) {
			return function (event) {
				console.log(type, event);
			};
		}

		for (var i = 0; i < eventsToWatch.length; i++) {
			widget.on(eventsToWatch[i], createListener(eventsToWatch[i]));
		}
	});

	</script>
</body>
</html>
