<!DOCTYPE html>
<html>
	<head>
		<meta content="text/html; charset=utf-8" http-equiv="Content-type"></meta>
		<title>Parse Tree Renderer</title>
	</head>
	<body class="claro">
		<script>
var dojoConfig = {
    async: true,
    baseUrl: '../../third-party',
    packages: [
        'dojo',
        'dijit',
        'dgrid',
        'xstyle',
        'put-selector',
        'dstore',
		{ name: 'mayhem', location: '../' }
    ]
};
	</script>
	<script src="../../../dojo/dojo.js"></script>
	<script>
require([
	'mayhem/Application',
	'mayhem/ui/Master',
	'mayhem/tests/integration/MyMediator',
	'mayhem/tests/integration/MyModel',
	'mayhem/templating/Template',
	// './parse-tree.js',
	// 'dojo/text!./parse-tree-tmpl.js',
	// 'mayhem/templating/Template!./parse-tree-tmpl.js',
	// 'mayhem/templating/Template!./parse-tree-tmpl.json',
	// 'mayhem/templating/json!./parse-tree-tmpl',
	'mayhem/templating/json!./test-tmpl',
	'xstyle/css!dijit/themes/claro/claro.css',
	'xstyle/css!dojo/resources/dojo.css'
], function (
	Application,
	Master,
	MyMediator,
	MyModel,
	Template,
	// rawTree,
	// rawTreeString,
	// RawTmpl,
	// JsonTmpl,
	// JsonTmpl2,
	TestTmpl
) {
	var app = window.app = new Application({
		modules: { router: null }
	});

	app.startup().then(function () {
		var model = window.model = new MyModel();
		var mediator = window.mediator = new MyMediator({
			app: app,
			model: model
		});

		var view = window.view = new Master({});
		view.attachToWindow(document.body);

		// view.add(new JsonTmpl());
		// view.add(new JsonTmpl2());
		// view.add(new RawTmpl());

		// var rawTmpl2 = new Template(rawTree);
		// rawTmpl2.load().then(function(View) {
		// 	view.add(new View())
		// });

		// var rawTmpl3 = new Template(rawTreeString);
		// rawTmpl3.load(5000).then(function(View) {
		// 	view.add(new View())
		// });

		// var rawTmpl4 = Template.process(rawTreeString).then(function(factory) {
		// 	view.add(new View())
		// });

		// var template = new Template(moduleTmpl);
		// template.load(5000).then(function(View) {
		// 	view.add(new View());
		// });

		view.add(new TestTmpl());
	});
});
		</script>
	</body>
</html>
