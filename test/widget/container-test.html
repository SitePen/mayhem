<!DOCTYPE html>
<html>
<head>
	<title>Mayhem Widget Test</title>
	<link rel='stylesheet' href='../../../dijit/themes/claro/claro.css'
</head>
<body class='claro'>
	<script>

	var dojoConfig = {
		baseUrl: '../../..',
		packages: [
			'dojo',
			'dijit',
			{
				name: 'widget',
				location: 'framework/widget'
			},
			'framework'
		]
	};

	</script>
	<script src='../../../dojo/dojo.js'></script>

	<script>

	require([
		'dojo/_base/declare',
		'dojo/dom-construct',
		'widget/Widget',
		'widget/ContainerMixin',
		'dojo/domReady!'
	], function(declare, domConstruct, Widget, ContainerMixin) {
		var LabelWidget = declare(Widget, {
			_create: function (propertiesToMixIn) {
				this.domNode = domConstruct.create('span');
				this.domNode.innerHTML = propertiesToMixIn.label || 'no-label-provided';

				this.inherited(arguments);
			}
		});

		var SampleContainer = declare([ Widget, ContainerMixin ], {
			_create: function () {
				this.inherited(arguments);

				var domNode = this.domNode;
				domNode.appendChild(domConstruct.create('div', {
					'data-dojo-insertion-point': '',
					'data-dojo-content-select': '.first-slot'
				}));
				domNode.appendChild(domConstruct.create('div', {
					'data-dojo-insertion-point': ''
				}));
				domNode.appendChild(domConstruct.create('div', {
					'data-dojo-insertion-point': '',
					'data-dojo-content-select': '.third-slot'
				}));
			}
		});

		var container = new SampleContainer();
		document.body.appendChild(container.domNode);
		container.startup();

		// Should go in second insertion point because it is before third-slot
		container.addChild(new LabelWidget({
			className: 'third-slot',
			label: 'first added'
		}));
		container.addChild(new LabelWidget({
			className: 'first-slot',
			label: 'second added'
		}));
		container.addChild(new LabelWidget({
			label: 'third added'
		}));
	});

	</script>
</body>
</html>