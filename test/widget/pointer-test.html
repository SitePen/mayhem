<!DOCTYPE html>
<html>
<head>
	<title>Mayhem Widget Test</title>
	<link rel='stylesheet' href='../../dijit/themes/claro/claro.css'
</head>
<body class='claro'>
	<script>

	var dojoConfig = {
		baseUrl: '../..',
		packages: [
			'dojo',
			'dijit',
			{
				name: 'widget',
				location: 'framework/widget'
			},
			'framework'
		]
	};

	</script>
	<script src='../../dojo/dojo.js'></script>
	<script>

	require([
		'widget/Widget',
		'widget/pointer',
		'dojo/domReady!'
	], function(Widget, pointer) {
		var widget = new Widget({
			style: { background: 'green', width: '100px', height: '100px' }
		});
		document.body.innerHTML = 'See console for pointer events on this widget...';
		document.body.appendChild(widget.domNode);
		widget.startup();

		function createListener(type) {
			return function (event) {
				console.log(type, event);
			};
		}

		for(var key in pointer) {
			widget.on(pointer[key], createListener(key));
		}
	});

	</script>
</body>
</html>